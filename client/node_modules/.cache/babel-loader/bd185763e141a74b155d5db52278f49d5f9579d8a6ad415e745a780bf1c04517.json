{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const OrderScreen=()=>{const[orders,setOrders]=useState([]);const loginstate=useSelector(state=>state.loginUserReducer);const userid=loginstate.currentUser._id;useEffect(()=>{const fetchOrders=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND,\"/paybutton/getuserorders/\").concat(userid));const data=await response.json();setOrders(data);}catch(error){console.error(\"Error fetching orders:\",error);}};fetchOrders();},[userid]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Orders\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",style:{borderColor:\"#343a40\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",style:{minWidth:\"150px\"},children:\"Order Date & Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Order Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Transaction ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Table Number\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Pizza Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",colSpan:\"2\",children:\"Delivered\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.createdAt).toLocaleString()}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-inr\"}),\" \",order.orderAmount]}),/*#__PURE__*/_jsx(\"td\",{children:order.transactionId}),/*#__PURE__*/_jsx(\"td\",{children:order.tableNumber}),/*#__PURE__*/_jsx(\"td\",{children:order.mobileNumber}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",style:{borderColor:\"#343a40\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Variant\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:order.orderItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{minWidth:\"100px\"},children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.varient}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{style:{minWidth:\"100px\"},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-inr\"}),\" \",item.price]})]},item._id))})]})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?\"Yes\":\"No\"})]},order._id))})]})})]});};export default OrderScreen;","map":{"version":3,"names":["React","useState","useEffect","useSelector","jsx","_jsx","jsxs","_jsxs","OrderScreen","orders","setOrders","loginstate","state","loginUserReducer","userid","currentUser","_id","fetchOrders","response","fetch","concat","process","env","REACT_APP_BACKEND","data","json","error","console","className","children","style","borderColor","minWidth","colSpan","map","order","Date","createdAt","toLocaleString","class","orderAmount","transactionId","tableNumber","mobileNumber","orderItems","item","name","varient","quantity","price","isDelivered"],"sources":["C:/Users/adity/OneDrive/Desktop/GitHub Repositories/Foodbay/client/src/screens/OrderScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nconst OrderScreen = () => {\n  const [orders, setOrders] = useState([]);\n  const loginstate = useSelector((state) => state.loginUserReducer);\n  const userid = loginstate.currentUser._id;\n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        const response = await fetch(\n          `${process.env.REACT_APP_BACKEND}/paybutton/getuserorders/${userid}`\n        );\n        const data = await response.json();\n        setOrders(data);\n      } catch (error) {\n        console.error(\"Error fetching orders:\", error);\n      }\n    };\n\n    fetchOrders();\n  }, [userid]);\n\n  return (\n    <div className=\"container mt-4\">\n      <h2>My Orders</h2>\n      <hr></hr>\n      <div className=\"table-responsive\">\n        <table\n          className=\"table table-bordered\"\n          style={{ borderColor: \"#343a40\" }}\n        >\n          <thead>\n            <tr>\n              <th className=\"bg-dark text-light\">Order ID</th>\n              <th className=\"bg-dark text-light\" style={{ minWidth: \"150px\" }}>\n                Order Date & Time\n              </th>\n              <th className=\"bg-dark text-light\">Order Amount</th>\n              <th className=\"bg-dark text-light\">Transaction ID</th>\n              <th className=\"bg-dark text-light\">Table Number</th>\n              <th className=\"bg-dark text-light\">Mobile Number</th>\n              <th className=\"bg-dark text-light\">Pizza Details</th>\n              <th className=\"bg-dark text-light\" colSpan=\"2\">\n                Delivered\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map((order) => (\n              <tr key={order._id}>\n                <td>{order._id}</td>\n                <td>{new Date(order.createdAt).toLocaleString()}</td>\n                <td>\n                  <i class=\"fa fa-inr\"></i> {order.orderAmount}\n                </td>\n                <td>{order.transactionId}</td>\n                <td>{order.tableNumber}</td>\n                <td>{order.mobileNumber}</td>\n                <td colSpan=\"2\">\n                  <table\n                    className=\"table table-bordered\"\n                    style={{ borderColor: \"#343a40\" }}\n                  >\n                    <thead>\n                      <tr>\n                        <th className=\"bg-secondary text-light\">Name</th>\n                        <th className=\"bg-secondary text-light\">Variant</th>\n                        <th className=\"bg-secondary text-light\">Quantity</th>\n                        <th className=\"bg-secondary text-light\">Price</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {order.orderItems.map((item) => (\n                        <tr key={item._id}>\n                          <td style={{ minWidth: \"100px\" }}>{item.name}</td>\n                          <td>{item.varient}</td>\n                          <td>{item.quantity}</td>\n                          <td style={{ minWidth: \"100px\" }}>\n                            <i class=\"fa fa-inr\"></i> {item.price}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </td>\n                <td>{order.isDelivered ? \"Yes\" : \"No\"}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\nexport default OrderScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}