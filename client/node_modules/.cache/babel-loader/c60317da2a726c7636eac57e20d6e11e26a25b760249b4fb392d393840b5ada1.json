{"ast":null,"code":"import React from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Checkout(_ref){let{subtotal,cartItems,currentUser}=_ref;const redirectToServerSideRender=async()=>{try{const response=await axios.get(\"\".concat(process.env.REACT_APP_BACKEND,\"/paybutton/renderView\"),{params:{subtotal:subtotal,cartItems:cartItems,currentUser:currentUser},headers:{\"Content-Type\":\"application/json\"}});if(response.status===200){console.log(response);window.location.href=response.request.responseURL;}else{console.error(\"Error sending data to backend:\",response.statusText);}}catch(error){console.error(\"Error during data sending:\",error.message);}};return/*#__PURE__*/_jsx(\"div\",{children:currentUser?/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:redirectToServerSideRender,children:\"Pay Button\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:window.location.href=\"/login\",children:\"Login before Order\"})});}","map":{"version":3,"names":["React","axios","jsx","_jsx","Checkout","_ref","subtotal","cartItems","currentUser","redirectToServerSideRender","response","get","concat","process","env","REACT_APP_BACKEND","params","headers","status","console","log","window","location","href","request","responseURL","error","statusText","message","children","className","onClick"],"sources":["C:/Users/adity/OneDrive/Desktop/GitHub Repositories/Foodbay/client/src/components/Checkout.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nexport default function Checkout({ subtotal, cartItems, currentUser }) {\n  const redirectToServerSideRender = async () => {\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_BACKEND}/paybutton/renderView`,\n        {\n          params: {\n            subtotal: subtotal,\n            cartItems: cartItems,\n            currentUser: currentUser,\n          },\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      if (response.status === 200) {\n        console.log(response);\n        window.location.href = response.request.responseURL;\n      } else {\n        console.error(\"Error sending data to backend:\", response.statusText);\n      }\n    } catch (error) {\n      console.error(\"Error during data sending:\", error.message);\n    }\n  };\n  return (\n    <div>\n      {currentUser ? (\n        <button className=\"btn\" onClick={redirectToServerSideRender}>\n          Pay Button\n        </button>\n      ) : (\n        <button className=\"btn\" onClick={(window.location.href = \"/login\")}>\n          Login before Order\n        </button>\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAuC,IAAtC,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,WAAY,CAAC,CAAAH,IAAA,CACnE,KAAM,CAAAI,0BAA0B,CAAG,KAAAA,CAAA,GAAY,CAC7C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,IAAAC,MAAA,CAC3BC,OAAO,CAACC,GAAG,CAACC,iBAAiB,0BAChC,CACEC,MAAM,CAAE,CACNV,QAAQ,CAAEA,QAAQ,CAClBC,SAAS,CAAEA,SAAS,CACpBC,WAAW,CAAEA,WACf,CAAC,CACDS,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CAED,GAAIP,QAAQ,CAACQ,MAAM,GAAK,GAAG,CAAE,CAC3BC,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC,CACrBW,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGb,QAAQ,CAACc,OAAO,CAACC,WAAW,CACrD,CAAC,IAAM,CACLN,OAAO,CAACO,KAAK,CAAC,gCAAgC,CAAEhB,QAAQ,CAACiB,UAAU,CAAC,CACtE,CACF,CAAE,MAAOD,KAAK,CAAE,CACdP,OAAO,CAACO,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAACE,OAAO,CAAC,CAC5D,CACF,CAAC,CACD,mBACEzB,IAAA,QAAA0B,QAAA,CACGrB,WAAW,cACVL,IAAA,WAAQ2B,SAAS,CAAC,KAAK,CAACC,OAAO,CAAEtB,0BAA2B,CAAAoB,QAAA,CAAC,YAE7D,CAAQ,CAAC,cAET1B,IAAA,WAAQ2B,SAAS,CAAC,KAAK,CAACC,OAAO,CAAGV,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAU,CAAAM,QAAA,CAAC,oBAEpE,CAAQ,CACT,CACE,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}