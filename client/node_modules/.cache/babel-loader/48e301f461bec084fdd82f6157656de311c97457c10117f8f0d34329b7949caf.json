{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{editPizza,getPizzaById}from\"../actions/pizzaActions\";import Loading from\"../components/Loading\";import Error from\"../components/Error\";import Success from\"../components/Success\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Editpizza(){const[name,setname]=useState(\"\");const[smallprice,setsmallprice]=useState();const[mediumprice,setmediumprice]=useState();const[largeprice,setlargeprice]=useState();const[image,setimage]=useState(\"\");const[description,setdescription]=useState(\"\");const[category,setcategory]=useState(\"\");const getpizzabyidstate=useSelector(state=>state.getPizzaByIdReducer);const{pizza,error,loading}=getpizzabyidstate;const editpizzastate=useSelector(state=>state.editPizzaReducer);const{editloading,editsuccess}=editpizzastate;const{pizzaid}=useParams();const dispatch=useDispatch();useEffect(()=>{if(pizza){if(pizza._id===pizzaid){setname(pizza.name);setdescription(pizza.description);setcategory(pizza.category);setsmallprice(pizza.prices[0][\"small\"]);setmediumprice(pizza.prices[0][\"medium\"]);setlargeprice(pizza.prices[0][\"large\"]);setimage(pizza.image);}else{dispatch(getPizzaById(pizzaid));}}else{dispatch(getPizzaById(pizzaid));}},[pizza,dispatch]);function formHandler(e){e.preventDefault();const editedpizza={_id:pizzaid,name,image,description,category,prices:{small:smallprice,medium:mediumprice,large:largeprice}};dispatch(editPizza(editedpizza));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Pizza\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Pizza Id = \",pizzaid]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-start\",children:[loading&&/*#__PURE__*/_jsx(Loading,{}),error&&/*#__PURE__*/_jsx(Error,{error:\"Somethig went wrong\"}),editsuccess&&/*#__PURE__*/_jsx(Success,{success:\"Pizza details edited successfully\"}),editloading&&/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formHandler,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"name\",value:name,onChange:e=>{setname(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"small variant price\",value:smallprice,onChange:e=>{setsmallprice(Number(e.target.value));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"medium variant price\",value:mediumprice,onChange:e=>{setmediumprice(Number(e.target.value));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"large variant price\",value:largeprice,onChange:e=>{setlargeprice(Number(e.target.value));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Category (veg/nonveg)\",value:category,onChange:e=>{setcategory(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Description\",value:description,onChange:e=>{setdescription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Image URL\",value:image,onChange:e=>{setimage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mt-3\",type:\"submit\",children:\"Edit Item\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useDispatch","useSelector","editPizza","getPizzaById","Loading","Error","Success","jsx","_jsx","jsxs","_jsxs","Editpizza","name","setname","smallprice","setsmallprice","mediumprice","setmediumprice","largeprice","setlargeprice","image","setimage","description","setdescription","category","setcategory","getpizzabyidstate","state","getPizzaByIdReducer","pizza","error","loading","editpizzastate","editPizzaReducer","editloading","editsuccess","pizzaid","dispatch","_id","prices","formHandler","e","preventDefault","editedpizza","small","medium","large","children","className","success","onSubmit","type","placeholder","value","onChange","target","Number"],"sources":["C:/Users/adity/OneDrive/Desktop/GitHub Repositories/Foodbay/client/src/screens/Editpizza.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { editPizza, getPizzaById } from \"../actions/pizzaActions\";\r\nimport Loading from \"../components/Loading\";\r\nimport Error from \"../components/Error\";\r\nimport Success from \"../components/Success\";\r\nexport default function Editpizza() {\r\n  const [name, setname] = useState(\"\");\r\n  const [smallprice, setsmallprice] = useState();\r\n  const [mediumprice, setmediumprice] = useState();\r\n  const [largeprice, setlargeprice] = useState();\r\n  const [image, setimage] = useState(\"\");\r\n  const [description, setdescription] = useState(\"\");\r\n  const [category, setcategory] = useState(\"\");\r\n\r\n  const getpizzabyidstate = useSelector((state) => state.getPizzaByIdReducer);\r\n  const { pizza, error, loading } = getpizzabyidstate;\r\n  const editpizzastate = useSelector((state) => state.editPizzaReducer);\r\n  const { editloading, editsuccess } = editpizzastate;\r\n  const { pizzaid } = useParams();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (pizza) {\r\n      if (pizza._id === pizzaid) {\r\n        setname(pizza.name);\r\n        setdescription(pizza.description);\r\n        setcategory(pizza.category);\r\n        setsmallprice(pizza.prices[0][\"small\"]);\r\n        setmediumprice(pizza.prices[0][\"medium\"]);\r\n        setlargeprice(pizza.prices[0][\"large\"]);\r\n        setimage(pizza.image);\r\n      } else {\r\n        dispatch(getPizzaById(pizzaid));\r\n      }\r\n    } else {\r\n      dispatch(getPizzaById(pizzaid));\r\n    }\r\n  }, [pizza, dispatch]);\r\n\r\n  function formHandler(e) {\r\n    e.preventDefault();\r\n    const editedpizza = {\r\n      _id: pizzaid,\r\n      name,\r\n      image,\r\n      description,\r\n      category,\r\n      prices: {\r\n        small: smallprice,\r\n        medium: mediumprice,\r\n        large: largeprice,\r\n      },\r\n    };\r\n    dispatch(editPizza(editedpizza));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Edit Pizza</h1>\r\n      <h1>Pizza Id = {pizzaid}</h1>\r\n      <div className=\"text-start\">\r\n        {loading && <Loading />}\r\n        {error && <Error error=\"Somethig went wrong\" />}\r\n        {editsuccess && <Success success=\"Pizza details edited successfully\" />}\r\n        {editloading && <Loading />}\r\n\r\n        <form onSubmit={formHandler}>\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"text\"\r\n            placeholder=\"name\"\r\n            value={name}\r\n            onChange={(e) => {\r\n              setname(e.target.value);\r\n            }}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"small variant price\"\r\n            value={smallprice}\r\n            onChange={(e) => {\r\n              setsmallprice(Number(e.target.value));\r\n            }}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"medium variant price\"\r\n            value={mediumprice}\r\n            onChange={(e) => {\r\n              setmediumprice(Number(e.target.value));\r\n            }}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"large variant price\"\r\n            value={largeprice}\r\n            onChange={(e) => {\r\n              setlargeprice(Number(e.target.value));\r\n            }}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Category (veg/nonveg)\"\r\n            value={category}\r\n            onChange={(e) => {\r\n              setcategory(e.target.value);\r\n            }}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Description\"\r\n            value={description}\r\n            onChange={(e) => {\r\n              setdescription(e.target.value);\r\n            }}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Image URL\"\r\n            value={image}\r\n            onChange={(e) => {\r\n              setimage(e.target.value);\r\n            }}\r\n          />\r\n          <button className=\"btn mt-3\" type=\"submit\">\r\n            Edit Item\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}