{"ast":null,"code":"import React from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Checkout(_ref){let{subtotal,cartItems,currentUser}=_ref;const redirectToServerSideRender=async()=>{try{const response=await axios.get(\"/paybutton/renderView\",{params:{subtotal:subtotal,cartItems:cartItems,currentUser:currentUser},headers:{\"Content-Type\":\"application/json\"}});if(response.status===200){console.log(response);window.location.href=response.request.responseURL;}else{console.error(\"Error sending data to backend:\",response.statusText);}}catch(error){console.error(\"Error during data sending:\",error.message);}};return/*#__PURE__*/_jsx(\"div\",{children:currentUser?/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:redirectToServerSideRender,children:\"Pay Button\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:window.location.href=\"/login\",children:\"Login before Order\"})});}","map":{"version":3,"names":["React","axios","jsx","_jsx","Checkout","_ref","subtotal","cartItems","currentUser","redirectToServerSideRender","response","get","params","headers","status","console","log","window","location","href","request","responseURL","error","statusText","message","children","className","onClick"],"sources":["C:/Users/adity/OneDrive/Desktop/GitHub Repositories/Foodbay/client/src/components/Checkout.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Checkout({ subtotal, cartItems, currentUser }) {\r\n  const redirectToServerSideRender = async () => {\r\n    try {\r\n      const response = await axios.get(\"/paybutton/renderView\", {\r\n        params: {\r\n          subtotal: subtotal,\r\n          cartItems: cartItems,\r\n          currentUser: currentUser,\r\n        },\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log(response);\r\n        window.location.href = response.request.responseURL;\r\n      } else {\r\n        console.error(\"Error sending data to backend:\", response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during data sending:\", error.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {currentUser ? (\r\n        <button className=\"btn\" onClick={redirectToServerSideRender}>\r\n          Pay Button\r\n        </button>\r\n      ) : (\r\n        <button className=\"btn\" onClick={(window.location.href = \"/login\")}>\r\n          Login before Order\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAuC,IAAtC,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,WAAY,CAAC,CAAAH,IAAA,CACnE,KAAM,CAAAI,0BAA0B,CAAG,KAAAA,CAAA,GAAY,CAC7C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,uBAAuB,CAAE,CACxDC,MAAM,CAAE,CACNN,QAAQ,CAAEA,QAAQ,CAClBC,SAAS,CAAEA,SAAS,CACpBC,WAAW,CAAEA,WACf,CAAC,CACDK,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAIH,QAAQ,CAACI,MAAM,GAAK,GAAG,CAAE,CAC3BC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC,CACrBO,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGT,QAAQ,CAACU,OAAO,CAACC,WAAW,CACrD,CAAC,IAAM,CACLN,OAAO,CAACO,KAAK,CAAC,gCAAgC,CAAEZ,QAAQ,CAACa,UAAU,CAAC,CACtE,CACF,CAAE,MAAOD,KAAK,CAAE,CACdP,OAAO,CAACO,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAACE,OAAO,CAAC,CAC5D,CACF,CAAC,CACD,mBACErB,IAAA,QAAAsB,QAAA,CACGjB,WAAW,cACVL,IAAA,WAAQuB,SAAS,CAAC,KAAK,CAACC,OAAO,CAAElB,0BAA2B,CAAAgB,QAAA,CAAC,YAE7D,CAAQ,CAAC,cAETtB,IAAA,WAAQuB,SAAS,CAAC,KAAK,CAACC,OAAO,CAAGV,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAU,CAAAM,QAAA,CAAC,oBAEpE,CAAQ,CACT,CACE,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}