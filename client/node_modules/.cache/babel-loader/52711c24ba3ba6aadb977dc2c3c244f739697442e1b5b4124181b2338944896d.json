{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getAllPizzas}from\"../actions/pizzaActions\";import Pizza from\"../components/Pizza\";import Loading from\"../components/Loading\";import Error from\"../components/Error\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Homescreen(){const dispatch=useDispatch();const pizzasState=useSelector(state=>state.getAllPizzasReducer);const{pizzas,error,loading}=pizzasState;const[searchQuery,setSearchQuery]=useState(\"\");const[selectedCategory,setSelectedCategory]=useState(\"all\");useEffect(()=>{dispatch(getAllPizzas());},[dispatch]);const handleSearch=event=>{setSearchQuery(event.target.value);};const handleCategoryChange=event=>{setSelectedCategory(event.target.value);};// Filter pizzas based on both search query and selected category\nconst filteredPizzas=pizzas.filter(pizza=>{const nameMatch=pizza.name.toLowerCase().includes(searchQuery.toLowerCase());if(selectedCategory===\"all\"){return nameMatch;}else{return nameMatch&&pizza.category===selectedCategory;}});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search pizzas...\",value:searchQuery,onChange:handleSearch})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-group-prepend\",htmlFor:\"categoryFilter\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:\"Filter by Category:\"})}),/*#__PURE__*/_jsxs(\"select\",{id:\"categoryFilter\",className:\"form-control\",value:selectedCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"veg\",children:\"Veg\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nonveg\",children:\"Non-Veg\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:loading?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(Error,{error:\"Something went wrong\"}):filteredPizzas.length>0?filteredPizzas.map(pizza=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 m-3\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pizza,{pizza:pizza})})},pizza._id)):/*#__PURE__*/ // Display a message when no pizzas are found\n_jsx(\"div\",{className:\"col-md-12 text-center mt-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"No Pizza Found Related To Your Search.\"})})})]});}export default Homescreen;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","getAllPizzas","Pizza","Loading","Error","jsx","_jsx","jsxs","_jsxs","Homescreen","dispatch","pizzasState","state","getAllPizzasReducer","pizzas","error","loading","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","handleSearch","event","target","value","handleCategoryChange","filteredPizzas","filter","pizza","nameMatch","name","toLowerCase","includes","category","className","children","type","placeholder","onChange","htmlFor","id","length","map","_id"],"sources":["C:/Users/adity/OneDrive/Desktop/GitHub Repositories/Foodbay/client/src/screens/Homescreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllPizzas } from \"../actions/pizzaActions\";\nimport Pizza from \"../components/Pizza\";\nimport Loading from \"../components/Loading\";\nimport Error from \"../components/Error\";\n\nfunction Homescreen() {\n  const dispatch = useDispatch();\n  const pizzasState = useSelector((state) => state.getAllPizzasReducer);\n  const { pizzas, error, loading } = pizzasState;\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\n\n  useEffect(() => {\n    dispatch(getAllPizzas());\n  }, [dispatch]);\n\n  const handleSearch = (event) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const handleCategoryChange = (event) => {\n    setSelectedCategory(event.target.value);\n  };\n\n  // Filter pizzas based on both search query and selected category\n  const filteredPizzas = pizzas.filter((pizza) => {\n    const nameMatch = pizza.name\n      .toLowerCase()\n      .includes(searchQuery.toLowerCase());\n\n    if (selectedCategory === \"all\") {\n      return nameMatch;\n    } else {\n      return nameMatch && pizza.category === selectedCategory;\n    }\n  });\n\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"row align-items-center\">\n        <div className=\"col-md-6 mb-3\">\n          {/* Search bar with icon inside */}\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-search\"></i>\n              </span>\n            </div>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search pizzas...\"\n              value={searchQuery}\n              onChange={handleSearch}\n            />\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          {/* Category filter dropdown */}\n          <div className=\"input-group\">\n            <label className=\"input-group-prepend\" htmlFor=\"categoryFilter\">\n              <span className=\"input-group-text\">Filter by Category:</span>\n            </label>\n            <select\n              id=\"categoryFilter\"\n              className=\"form-control\"\n              value={selectedCategory}\n              onChange={handleCategoryChange}\n            >\n              <option value=\"all\">All</option>\n              <option value=\"veg\">Veg</option>\n              <option value=\"nonveg\">Non-Veg</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div className=\"row justify-content-center\">\n        {loading ? (\n          <Loading />\n        ) : error ? (\n          <Error error=\"Something went wrong\" />\n        ) : filteredPizzas.length > 0 ? (\n          filteredPizzas.map((pizza) => (\n            <div className=\"col-md-3 m-3\" key={pizza._id}>\n              <div>\n                <Pizza pizza={pizza} />\n              </div>\n            </div>\n          ))\n        ) : (\n          // Display a message when no pizzas are found\n          <div className=\"col-md-12 text-center mt-4\">\n            <p className=\"text-danger\">\n              No Pizza Found Related To Your Search.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Homescreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}