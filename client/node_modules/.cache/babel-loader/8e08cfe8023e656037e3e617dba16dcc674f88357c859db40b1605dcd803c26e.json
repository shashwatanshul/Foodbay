{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const OrderScreen=()=>{const[orders,setOrders]=useState([]);const loginstate=useSelector(state=>state.loginUserReducer);const userid=loginstate.currentUser._id;useEffect(()=>{const fetchOrders=async()=>{try{const response=await fetch(\"/paybutton/getuserorders/\".concat(userid));const data=await response.json();setOrders(data);}catch(error){console.error(\"Error fetching orders:\",error);}};fetchOrders();},[userid]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Orders\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",style:{borderColor:\"#343a40\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",style:{minWidth:\"150px\"},children:\"Order Date & Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Order Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Transaction ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Table Number\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",children:\"Pizza Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-dark text-light\",colSpan:\"2\",children:\"Delivered\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.createdAt).toLocaleString()}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-inr\"}),\" \",order.orderAmount]}),/*#__PURE__*/_jsx(\"td\",{children:order.transactionId}),/*#__PURE__*/_jsx(\"td\",{children:order.tableNumber}),/*#__PURE__*/_jsx(\"td\",{children:order.mobileNumber}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",style:{borderColor:\"#343a40\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Variant\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-light\",children:\"Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:order.orderItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{minWidth:\"100px\"},children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.varient}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{style:{minWidth:\"100px\"},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-inr\"}),\" \",item.price]})]},item._id))})]})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?\"Yes\":\"No\"})]},order._id))})]})})]});};export default OrderScreen;","map":{"version":3,"names":["React","useState","useEffect","useSelector","jsx","_jsx","jsxs","_jsxs","OrderScreen","orders","setOrders","loginstate","state","loginUserReducer","userid","currentUser","_id","fetchOrders","response","fetch","concat","data","json","error","console","className","children","style","borderColor","minWidth","colSpan","map","order","Date","createdAt","toLocaleString","class","orderAmount","transactionId","tableNumber","mobileNumber","orderItems","item","name","varient","quantity","price","isDelivered"],"sources":["C:/Users/adity/OneDrive/Desktop/GitHub Repositories/Foodbay/client/src/screens/OrderScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nconst OrderScreen = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const loginstate = useSelector((state) => state.loginUserReducer);\r\n  const userid = loginstate.currentUser._id;\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      try {\r\n        const response = await fetch(`/paybutton/getuserorders/${userid}`);\r\n        const data = await response.json();\r\n        setOrders(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching orders:\", error);\r\n      }\r\n    };\r\n\r\n    fetchOrders();\r\n  }, [userid]);\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>My Orders</h2>\r\n      <hr></hr>\r\n      <div className=\"table-responsive\">\r\n        <table\r\n          className=\"table table-bordered\"\r\n          style={{ borderColor: \"#343a40\" }}\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th className=\"bg-dark text-light\">Order ID</th>\r\n              <th className=\"bg-dark text-light\" style={{ minWidth: \"150px\" }}>\r\n                Order Date & Time\r\n              </th>\r\n              <th className=\"bg-dark text-light\">Order Amount</th>\r\n              <th className=\"bg-dark text-light\">Transaction ID</th>\r\n              <th className=\"bg-dark text-light\">Table Number</th>\r\n              <th className=\"bg-dark text-light\">Mobile Number</th>\r\n              <th className=\"bg-dark text-light\">Pizza Details</th>\r\n              <th className=\"bg-dark text-light\" colSpan=\"2\">\r\n                Delivered\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{new Date(order.createdAt).toLocaleString()}</td>\r\n                <td>\r\n                  <i class=\"fa fa-inr\"></i> {order.orderAmount}\r\n                </td>\r\n                <td>{order.transactionId}</td>\r\n                <td>{order.tableNumber}</td>\r\n                <td>{order.mobileNumber}</td>\r\n                <td colSpan=\"2\">\r\n                  <table\r\n                    className=\"table table-bordered\"\r\n                    style={{ borderColor: \"#343a40\" }}\r\n                  >\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"bg-secondary text-light\">Name</th>\r\n                        <th className=\"bg-secondary text-light\">Variant</th>\r\n                        <th className=\"bg-secondary text-light\">Quantity</th>\r\n                        <th className=\"bg-secondary text-light\">Price</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {order.orderItems.map((item) => (\r\n                        <tr key={item._id}>\r\n                          <td style={{ minWidth: \"100px\" }}>{item.name}</td>\r\n                          <td>{item.varient}</td>\r\n                          <td>{item.quantity}</td>\r\n                          <td style={{ minWidth: \"100px\" }}>\r\n                            <i class=\"fa fa-inr\"></i> {item.price}\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </td>\r\n                <td>{order.isDelivered ? \"Yes\" : \"No\"}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default OrderScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}