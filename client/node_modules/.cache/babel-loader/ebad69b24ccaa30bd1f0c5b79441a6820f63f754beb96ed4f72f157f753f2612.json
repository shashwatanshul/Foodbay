{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{editPizza,getPizzaById}from\"../actions/pizzaActions\";import Loading from\"../components/Loading\";import Error from\"../components/Error\";import Success from\"../components/Success\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Editpizza(){const[name,setname]=useState(\"\");const[smallprice,setsmallprice]=useState();const[mediumprice,setmediumprice]=useState();const[largeprice,setlargeprice]=useState();const[image,setimage]=useState(\"\");const[description,setdescription]=useState(\"\");const[category,setcategory]=useState(\"\");const getpizzabyidstate=useSelector(state=>state.getPizzaByIdReducer);const{pizza,error,loading}=getpizzabyidstate;const editpizzastate=useSelector(state=>state.editPizzaReducer);const{editloading,editsuccess}=editpizzastate;const{pizzaid}=useParams();const dispatch=useDispatch();useEffect(()=>{if(pizza){if(pizza._id===pizzaid){setname(pizza.name);setdescription(pizza.description);setcategory(pizza.category);setsmallprice(pizza.prices[0][\"small\"]);setmediumprice(pizza.prices[0][\"medium\"]);setlargeprice(pizza.prices[0][\"large\"]);setimage(pizza.image);}else{dispatch(getPizzaById(pizzaid));}}else{dispatch(getPizzaById(pizzaid));}},[pizza,dispatch]);function formHandler(e){e.preventDefault();const editedpizza={_id:pizzaid,name,image,description,category,prices:{small:smallprice,medium:mediumprice,large:largeprice}};dispatch(editPizza(editedpizza));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Pizza\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Pizza Id = \",pizzaid]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-start\",children:[loading&&/*#__PURE__*/_jsx(Loading,{}),error&&/*#__PURE__*/_jsx(Error,{error:\"Somethig went wrong\"}),editsuccess&&/*#__PURE__*/_jsx(Success,{success:\"Pizza details edited successfully\"}),editloading&&/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formHandler,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"name\",value:name,onChange:e=>{setname(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"small variant price\",value:smallprice,onChange:e=>{setsmallprice(Number(e.target.value));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"medium variant price\",value:mediumprice,onChange:e=>{setmediumprice(Number(e.target.value));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"large variant price\",value:largeprice,onChange:e=>{setlargeprice(Number(e.target.value));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Category (veg/nonveg)\",value:category,onChange:e=>{setcategory(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Description\",value:description,onChange:e=>{setdescription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Image URL\",value:image,onChange:e=>{setimage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mt-3\",type:\"submit\",children:\"Edit Item\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useDispatch","useSelector","editPizza","getPizzaById","Loading","Error","Success","jsx","_jsx","jsxs","_jsxs","Editpizza","name","setname","smallprice","setsmallprice","mediumprice","setmediumprice","largeprice","setlargeprice","image","setimage","description","setdescription","category","setcategory","getpizzabyidstate","state","getPizzaByIdReducer","pizza","error","loading","editpizzastate","editPizzaReducer","editloading","editsuccess","pizzaid","dispatch","_id","prices","formHandler","e","preventDefault","editedpizza","small","medium","large","children","className","success","onSubmit","type","placeholder","value","onChange","target","Number"],"sources":["C:/Users/adity/OneDrive/Desktop/GitHub Repositories/Foodbay/client/src/screens/Editpizza.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { editPizza, getPizzaById } from \"../actions/pizzaActions\";\nimport Loading from \"../components/Loading\";\nimport Error from \"../components/Error\";\nimport Success from \"../components/Success\";\nexport default function Editpizza() {\n  const [name, setname] = useState(\"\");\n  const [smallprice, setsmallprice] = useState();\n  const [mediumprice, setmediumprice] = useState();\n  const [largeprice, setlargeprice] = useState();\n  const [image, setimage] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [category, setcategory] = useState(\"\");\n\n  const getpizzabyidstate = useSelector((state) => state.getPizzaByIdReducer);\n  const { pizza, error, loading } = getpizzabyidstate;\n  const editpizzastate = useSelector((state) => state.editPizzaReducer);\n  const { editloading, editsuccess } = editpizzastate;\n  const { pizzaid } = useParams();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (pizza) {\n      if (pizza._id === pizzaid) {\n        setname(pizza.name);\n        setdescription(pizza.description);\n        setcategory(pizza.category);\n        setsmallprice(pizza.prices[0][\"small\"]);\n        setmediumprice(pizza.prices[0][\"medium\"]);\n        setlargeprice(pizza.prices[0][\"large\"]);\n        setimage(pizza.image);\n      } else {\n        dispatch(getPizzaById(pizzaid));\n      }\n    } else {\n      dispatch(getPizzaById(pizzaid));\n    }\n  }, [pizza, dispatch]);\n\n  function formHandler(e) {\n    e.preventDefault();\n    const editedpizza = {\n      _id: pizzaid,\n      name,\n      image,\n      description,\n      category,\n      prices: {\n        small: smallprice,\n        medium: mediumprice,\n        large: largeprice,\n      },\n    };\n    dispatch(editPizza(editedpizza));\n  }\n\n  return (\n    <div>\n      <h1>Edit Pizza</h1>\n      <h1>Pizza Id = {pizzaid}</h1>\n      <div className=\"text-start\">\n        {loading && <Loading />}\n        {error && <Error error=\"Somethig went wrong\" />}\n        {editsuccess && <Success success=\"Pizza details edited successfully\" />}\n        {editloading && <Loading />}\n\n        <form onSubmit={formHandler}>\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            placeholder=\"name\"\n            value={name}\n            onChange={(e) => {\n              setname(e.target.value);\n            }}\n          />\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"small variant price\"\n            value={smallprice}\n            onChange={(e) => {\n              setsmallprice(Number(e.target.value));\n            }}\n          />\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"medium variant price\"\n            value={mediumprice}\n            onChange={(e) => {\n              setmediumprice(Number(e.target.value));\n            }}\n          />\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"large variant price\"\n            value={largeprice}\n            onChange={(e) => {\n              setlargeprice(Number(e.target.value));\n            }}\n          />\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Category (veg/nonveg)\"\n            value={category}\n            onChange={(e) => {\n              setcategory(e.target.value);\n            }}\n          />\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Description\"\n            value={description}\n            onChange={(e) => {\n              setdescription(e.target.value);\n            }}\n          />\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Image URL\"\n            value={image}\n            onChange={(e) => {\n              setimage(e.target.value);\n            }}\n          />\n          <button className=\"btn mt-3\" type=\"submit\">\n            Edit Item\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}